<div [formGroup]="form">
  <llp-form-field [label]="question.label" [labelPosition]="labelPosition">
    <div [ngSwitch]="question.controlType">
      <ng-container *ngSwitchCase="'INPUT'">
        <ng-container
          *ngTemplateOutlet="inputControl; context: question"
        ></ng-container>
      </ng-container>
      <ng-container *ngSwitchCase="'SELECT'">
        <ng-container
          *ngTemplateOutlet="selectControl; context: question"
        ></ng-container>
      </ng-container>
      <ng-container *ngSwitchCase="'RADIO'">
        <ng-container
          *ngTemplateOutlet="radioControl; context: question"
        ></ng-container>
      </ng-container>
      <ng-container *ngSwitchCase="'CHECKBOX'">
        <ng-container
          *ngTemplateOutlet="checkboxControl; context: question"
        ></ng-container>
      </ng-container>
    </div>
  </llp-form-field>

  <ng-template #inputControl>
    <llp-input [formControlName]="question.key"></llp-input>
  </ng-template>
  <ng-template #selectControl>
    <ng-container *ngIf="question.answerOptions">
      <llp-select
        [formControlName]="question.key"
        [options]="question.answerOptions"
      ></llp-select>
    </ng-container>
  </ng-template>
  <ng-template #radioControl>
    <ng-container *ngIf="question.answerOptions">
      <llp-radio-list
        [formControlName]="question.key"
        [options]="question.answerOptions"
      ></llp-radio-list>
    </ng-container>
  </ng-template>
  <ng-template #checkboxControl>
    <ng-container *ngIf="question.answerOptions">
      <llp-checkbox
        [formControlName]="question.key"
        [options]="question.answerOptions"
      ></llp-checkbox>
    </ng-container>
  </ng-template>
</div>
