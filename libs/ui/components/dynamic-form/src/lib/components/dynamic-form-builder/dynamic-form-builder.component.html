<div class="flex-column gap-m">
  <ng-container
    *ngFor="let control of form | formGroup; let i = index; trackBy: trackByFn"
  >
    <form [formGroup]="control.formControl" class="question">
      <llp-question-builder
        [form]="control.formControl"
        [showErrors]="showErrors"
      ></llp-question-builder>
      <div class="control-settings">
        <llp-select
          [options]="controlOptions"
          formControlName="controlType"
        ></llp-select>

        <div class="flex-middle-between">
          <llp-checkbox
            [options]="requiredOptions"
            formControlName="required"
          ></llp-checkbox>

          <button
            type="button"
            class="delete-question"
            (click)="deleteQuestion(control.formControlName)"
          >
            <mat-icon>delete_forever</mat-icon> Delete question
          </button>
        </div>
      </div>
    </form>
  </ng-container>
</div>
